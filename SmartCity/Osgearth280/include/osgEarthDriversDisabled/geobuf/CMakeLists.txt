FIND_PACKAGE(Protobuf)

IF(PROTOBUF_FOUND)

INCLUDE_DIRECTORIES( ${PROTOBUF_INCLUDE_DIR} ${CMAKE_CURRENT_BINARY_DIR})

PROTOBUF_GENERATE_CPP(PROTO_CPP PROTO_H geobuf.proto)

SET(TARGET_SRC
    ReaderWriterGeobuf.cpp
    ${PROTO_CPP}
)

SET(TARGET_H   	
    ${PROTO_H}
)

SET(TARGET_COMMON_LIBRARIES ${TARGET_COMMON_LIBRARIES} osgEarthFeatures osgEarthSymbology osgEarthUtil)
SET(TARGET_LIBRARIES_VARSPROTOBUF_LIBRARY)
SETUP_PLUGIN(geobuf)

ENDIF(PROTOBUF_FOUND)